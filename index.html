<!doctype html>
<html lang="en">
  <head>
    <title>Calculator ADD</title>
    <link rel="shortcut icon" type="image/pngn" href="favicon.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <link rel="stylesheet" href="main.css">

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/pie.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
  </head>

  <body>
    <!-- Wrapper Start -->
    <div class="wrapper py-4">
      <!-- Content Start -->
      <div class="container">
        <div class="row">
          <div class="col-lg-6 col-xs-12">
            <div class="sf-username">
              <span>Hi&nbsp;<strong>Frank Godfrey</strong></span>,
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <div class="sf-main-sidebar">
              <form id="frm1">
                <div class="form-group">
                  <label>Botcons</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group">
                  <label>MAIDnam</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group" id="eth">
                  <label>Thuru</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group" id="lit">
                  <label>Light</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group" id="dol">
                  <label>Dollars</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group" id="ass">
                  <label>Asset</label>
                  <input type="text" class="form-control">
                </div>
                <div class="form-group">
                  <select class="custom-select">
                    <option selected>Select One</option>
                    <option value="volvo">Type 1</option>
                    <option value="saab">Type 2</option>
                    <option value="mercedes">Type 3</option>
                    <option value="audi">Type 4</option>
                  </select>
                </div>
                <div class="sf-username-block">
                  <p>Create the Username?</p>
                  <div class="form-check form-check-inline">
                    <label class="form-check-label">
                      <input class="form-check-input" type="radio" name="CreateUsername" value="yes"> Yes
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <label class="form-check-label">
                      <input class="form-check-input" type="radio" name="CreateUsername" value="no"> No
                    </label>
                  </div>
                </div>
                <button type="button" class="btn btn-warning btn-block text-uppercase font-weight-bold" onclick="btcprice()" id="idee">See Total</button>
              </form>
            </div>
          </div>
          <div class="col-lg-8">
            <div class="sf-main-body">
              <div id="chartdiv" style="width: 100%; height: 500px;"></div>
              <div class="sf-chart-info"><span class="name">SFSC</span><span class="nominal">5,281</span></div>
            </div>
            <div class="sf-bottom-banner mt-4">
              <a target="_blank" href="https://safenetwork.org/"></a><img src="aviva-728x90.gif" alt="Sample of Google Ads">
            </div>
          </div>
        </div>
        </div>
      <!-- Content End -->
    </div>
    <!-- Wrapper End -->

  </body>

<script>

function btcprice() {
  document.getElementById("chartdiv").style.display = "block";
  var xhr = new XMLHttpRequest();
  xhr.open('GET', "https://api.coinmarketcap.com/v1/ticker/", true);
  xhr.send();
  xhr.onreadystatechange = processRequest;

function processRequest(e) {
  var x = document.getElementById("frm1");
  if (xhr.readyState == 4 && xhr.status == 200) {
    var response = JSON.parse(xhr.responseText);
      var d =
    ((x.elements[0].value*(response.find(f => f.id === 'bitcoin').price_usd))) +
       ((x.elements[1].value*(response.find(g => g.id === 'maidsafecoin').price_usd))) +
       ((x.elements[2].value*(response.find(t => t.id === 'ethereum').price_usd))) +
       ((x.elements[3].value*(response.find(z => z.id === 'litecoin').price_usd))) +
       ((x.elements[4].value*(1))) +
       ((x.elements[5].value*(1)));
  };
  var pievalue = parseFloat(d).toFixed(2);
  var h = (x.elements[0].value*(response.find(f => f.id === 'bitcoin').price_usd));
  var hh = (x.elements[1].value*(response.find(g => g.id === 'maidsafecoin').price_usd));
  var hhh = (x.elements[2].value*(response.find(t => t.id === 'ethereum').price_usd));
  var gg = (x.elements[3].value*(response.find(z => z.id === 'litecoin').price_usd));
  var ggg = (x.elements[4].value*(1));
  var kk = (x.elements[5].value*(1));
  var chart = AmCharts.makeChart( "chartdiv", {
"type": "pie",
"theme": "light",
"allLabels": [{
  "text": "$" + pievalue,
  "align": "center",
  "bold": true,
  "color" : "white",
  "size": 16,
  "y": 240
}],
"dataProvider": [ {
  "title": "B",
  "value": h
}, {
  "title": "M",
  "value": hh
}, {
  "title": "E",
  "value": hhh
}, {
  "title": "L",
  "value": gg
}, {
  "title": "D",
  "value": ggg
}, {
  "title": "As",
  "value": kk
} ],
"titleField": "title",
"valueField": "value",
"labelRadius": -130,
"radius": "42%",
"innerRadius": "60%",
"export": {
  "enabled": true
}
} );
      d = parseFloat(d).toFixed(2);
      document.getElementById('three').innerHTML = "$" + d.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    };
    // I THINK THE PIE CHART CODE HAS TO GO HERE IN THE FUNCTION!!!
};

window.onload = function() {
  document.getElementById("eth").style.display = "none";
  document.getElementById("lit").style.display = "none";
  document.getElementById("dol").style.display = "none";
  document.getElementById("ass").style.display = "none";
  document.getElementById("chartdiv").style.display = "none";
};

function showeth() {
  document.getElementById("eth").style.display = "block";
  document.getElementById("ethp").style.display = "none";
};
function showlit() {
  document.getElementById("lit").style.display = "block";
  document.getElementById("litp").style.display = "none";
};
function showdol() {
  document.getElementById("dol").style.display = "block";
  document.getElementById("dolp").style.display = "none";
};
function showass() {
  document.getElementById("ass").style.display = "block";
  document.getElementById("assp").style.display = "none";
};

</script>
